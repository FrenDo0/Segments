<!DOCTYPE html>

<html>
<body>
    <div>
        <label>Дължина на отсечката</label><br>
        <input type="text" id="length" name="length"><br>
        <label>Точка от А до У</label><br>
        <input type="text" id="a" name="a"><br>
        <label>Точка от У до А</label><br>
        <input type="text" id="b" name="b"><br>
        <br>
        <label>Дължина между две точки</label><br>
        <input type="text" id="c" name="c"><br>
        <br>
        
        <button onclick="Draw()">Начертай</button><br>
       <button onclick="drawLine()">тест</button>
    </div>
    <div>
        <canvas id="canvas" width="750" height="350" style="border:1px solid #e81111;">
    </canvas>
    </div>
    
    <script>
        function Draw(){
            let length = document.getElementById('length').value;
            let a = document.getElementById('a').value;
            let b = document.getElementById('b').value;
            let c = document.getElementById('c').value;
           
            let array = new Array();
            length ++;
            let tempA = 0;
            tempA = a;
            a++;
            a--;
            tempA++;
            tempA--;
            let tempB = 0;
            tempB++;
            tempB--;
            b++;
            b--;
            c++;
            c--;
            for(var i = 0; i < length; i++){
                array[i] = [0];
            }

            for(var i = 0; i < length; i++){
                if(i == tempA){
                    array[i] = [i];
                    tempA = tempA + a;
                }
            }
            let opposite = length - 1;
            
            for (var i = length - 1; i >= 0; i--) {
                if(opposite >= 0 && opposite - b >= 0){
                    array[opposite - b] = [opposite-b];
                    opposite = opposite - b;
                }
            }
            
            let first = 0;
            let second = 0;
            let counter = 0;
           
            let test = 150;
           
            let current = 0;
            let asd = 0;
            let next = 20;
            let sum = 0;
            let x = 5;
            for(var i = 0; i < length - 1; i++){
               
                first = array[i];
                second = array[i+1];
                sum = second - first;
                if(c == sum){
                    counter++;
                    drawLineRed(current,next,test);
                     //изчертава квадратче над всяка отсечка в цвета на отсечката
                   // drawSomething(x,120);
                   // x+=20;
                    current += 20;
                    next += 20;
                }else{
                    drawLine(current,next,test);
                    //изчертава квадратче над всяка отсечка в цвета на отсечката
                   // drawSomething(x,120);
                   // x+=20;
                    current += 20;
                    next += 20;
                }
            }
           /* let res = length - 1 - counter;
            document.write(res);
            document.write("<br>");
           
            document.write("<br>");
            for(var i = 0; i < array.length; i++){
                document.write(array[i] + " ");
            }*/
        }
        function drawSomething(x,y){
            var c = document.getElementById("canvas");
            var ctx = c.getContext("2d");
            ctx.beginPath();
            ctx.rect(x, y, 10, 10);
            ctx.stroke();   
        }
        function drawLine(current,next,test){
            var canvas = document.getElementById("canvas");
            var ctx = canvas.getContext("2d");
            ctx.beginPath();
            ctx.moveTo(current,test);
            ctx.lineTo(next,test);
            ctx.strokeStyle = '#000000';
            ctx.stroke();
        }
        function drawLineRed(current,next,test){
            var canvas = document.getElementById("canvas");
            var ctx = canvas.getContext("2d");
            ctx.beginPath();
            ctx.moveTo(current,test);
            ctx.lineTo(next,test);
            ctx.strokeStyle = '#ff0000';
            ctx.stroke();
        }
    </script>
</body>
</html>
